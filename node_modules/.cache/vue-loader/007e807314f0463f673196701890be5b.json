{"remainingRequest":"/Users/lin/Career/demo_vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/lin/Career/demo_vue/src/components/c-form/c-form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lin/Career/demo_vue/src/components/c-form/c-form.vue","mtime":1624522037789},{"path":"/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Career/demo_vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Career/demo_vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYy1mb3JtIiwKICBwcm92aWRlKCkgewogICAgLy8g6Leo5bGC57qn5Lyg6YCS5Y+C5pWw77yM6K6p5a2Q57uE5Lu26IO96K6/6Zeu5Yiw54i257uE5Lu255qE5omA5pyJ5pWw5o2uCiAgICByZXR1cm4gewogICAgICBmb3JtOiB0aGlzLAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBtb2RlbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmU6IHRydWUsCiAgICB9LAogICAgcnVsZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlKGNiKSB7CiAgICAgIC8vIOiOt+WPluaJgOacieeahOWtqeWtkAogICAgICAvLyDojrflj5bliLDmiYDmnInlrZDlhYPntKDnmoTmoKHpqoznu5PmnpwKICAgICAgY29uc3QgdGFza3MgPSB0aGlzLiRjaGlsZHJlbgogICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ucHJvcCkgLy/ov4fmu6TosIPmsqHmnIlwcm9w5bGe5oCn55qEaXRlbQogICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0udmFsaWRhdGUoKSk7CiAgICAgIGNvbnNvbGUubG9nKHRhc2tzKTsKICAgICAgUHJvbWlzZS5hbGwodGFza3MpCiAgICAgICAgLnRoZW4oKCkgPT4gY2IodHJ1ZSkpCiAgICAgICAgLmNhdGNoKCgpID0+IGNiKGZhbHNlKSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["c-form.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"c-form.vue","sourceRoot":"src/components/c-form","sourcesContent":["<template>\n  <form class=\"e-form\">\n    <slot></slot>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: \"c-form\",\n  provide() {\n    // 跨层级传递参数，让子组件能访问到父组件的所有数据\n    return {\n      form: this,\n    };\n  },\n  props: {\n    model: {\n      type: Object,\n      require: true,\n    },\n    rules: {\n      type: Object,\n    },\n  },\n  methods: {\n    validate(cb) {\n      // 获取所有的孩子\n      // 获取到所有子元素的校验结果\n      const tasks = this.$children\n        .filter((item) => item.prop) //过滤调没有prop属性的item\n        .map((item) => item.validate());\n      console.log(tasks);\n      Promise.all(tasks)\n        .then(() => cb(true))\n        .catch(() => cb(false));\n    },\n  },\n};\n</script>\n"]}]}