{"remainingRequest":"/Users/lin/Career/demo_vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/lin/Career/demo_vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/lin/Career/demo_vue/src/components/c-drag-table/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lin/Career/demo_vue/src/components/c-drag-table/index.vue","mtime":1623831996923},{"path":"/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Career/demo_vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Career/demo_vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFNvcnRhYmxlIGZyb20gInNvcnRhYmxlanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRyYWctdGFibGUiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFnZTogMSwKICAgICAgdG90YWw6IDEwMDAsCiAgICAgIHRhYmxlQ29sdW1uczogW3sKICAgICAgICBwcm9wOiAibmFtZSIsCiAgICAgICAgbGFiZWw6ICLlp5PlkI0iCiAgICAgIH0sIHsKICAgICAgICBwcm9wOiAiZGF0ZSIsCiAgICAgICAgbGFiZWw6ICLml6XmnJ8iCiAgICAgIH0sIHsKICAgICAgICBwcm9wOiAiYWRkcmVzcyIsCiAgICAgICAgbGFiZWw6ICLlnLDlnYAiCiAgICAgIH1dLAogICAgICBkcm9wVGFibGVDb2x1bW5zOiBbewogICAgICAgIHByb3A6ICJuYW1lIiwKICAgICAgICBsYWJlbDogIuWnk+WQjSIKICAgICAgfSwgewogICAgICAgIHByb3A6ICJkYXRlIiwKICAgICAgICBsYWJlbDogIuaXpeacnyIKICAgICAgfSwgewogICAgICAgIHByb3A6ICJhZGRyZXNzIiwKICAgICAgICBsYWJlbDogIuWcsOWdgCIKICAgICAgfV0sCiAgICAgIHRhYmxlRGF0YTogW10KICAgIH07CiAgfSwKCiAgY3JlYXRlZCgpIHt9LAoKICBtb3VudGVkKCkgewogICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7CiAgICAgIHRoaXMudGFibGVEYXRhLnB1c2goewogICAgICAgIGRhdGU6ICIyMDE2LTA1LTAzIiwKICAgICAgICBuYW1lOiBg546L5bCPJHtpfWAsCiAgICAgICAgYWRkcmVzczogYOS4iua1t+W4guaZrumZgCAke2l9YAogICAgICB9KTsKICAgIH0KCiAgICBkb2N1bWVudC5ib2R5Lm9uZHJvcCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH07CgogICAgdGhpcy5yb3dEcm9wKCk7CiAgICB0aGlzLmNvbHVtbkRyb3AoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKCkge30sCgogICAgLy/ooYzmi5bmi70KICAgIHJvd0Ryb3AoKSB7CiAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnRhYmxlMSAuZWwtdGFibGVfX2JvZHktd3JhcHBlciB0Ym9keSIpOwoKICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOwoKICAgICAgU29ydGFibGUuY3JlYXRlKHRib2R5LCB7CiAgICAgICAgb25FbmQoewogICAgICAgICAgbmV3SW5kZXgsCiAgICAgICAgICBvbGRJbmRleAogICAgICAgIH0pIHsKICAgICAgICAgIGNvbnN0IGN1cnJSb3cgPSBfdGhpcy50YWJsZURhdGEuc3BsaWNlKG9sZEluZGV4LCAxKVswXTsKCiAgICAgICAgICBfdGhpcy50YWJsZURhdGEuc3BsaWNlKG5ld0luZGV4LCAwLCBjdXJyUm93KTsKICAgICAgICB9CgogICAgICB9KTsKICAgIH0sCgogICAgLy/liJfmi5bmi70KICAgIGNvbHVtbkRyb3AoKSB7CiAgICAgIGNvbnN0IHdyYXBwZXJUciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi50YWJsZTEgLmVsLXRhYmxlX19oZWFkZXItd3JhcHBlciB0ciIpOwogICAgICB0aGlzLnNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKHdyYXBwZXJUciwgewogICAgICAgIGFuaW1hdGlvbjogMTgwLAogICAgICAgIGRlbGF5OiAwLAogICAgICAgIG9uRW5kOiBldnQgPT4gewogICAgICAgICAgY29uc3Qgb2xkSXRlbSA9IHRoaXMuZHJvcFRhYmxlQ29sdW1uc1tldnQub2xkSW5kZXhdOwogICAgICAgICAgdGhpcy5kcm9wVGFibGVDb2x1bW5zLnNwbGljZShldnQub2xkSW5kZXgsIDEpOwogICAgICAgICAgdGhpcy5kcm9wVGFibGVDb2x1bW5zLnNwbGljZShldnQubmV3SW5kZXgsIDAsIG9sZEl0ZW0pOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5kcm9wVGFibGVDb2x1bW5zKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,QAAA,MAAA,YAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,YAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AAFA,OATA,CAHA;AAiBA,MAAA,gBAAA,EAAA,CACA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA;AAFA,OATA,CAjBA;AA+BA,MAAA,SAAA,EAAA;AA/BA,KAAA;AAiCA,GApCA;;AAqCA,EAAA,OAAA,GAAA,CAAA,CArCA;;AAsCA,EAAA,OAAA,GAAA;AACA,SAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA,EAAA,CAAA,EAAA,EAAA;AACA,WAAA,SAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,YADA;AAEA,QAAA,IAAA,EAAA,KAAA,CAAA,EAFA;AAGA,QAAA,OAAA,EAAA,SAAA,CAAA;AAHA,OAAA;AAKA;;AACA,IAAA,QAAA,CAAA,IAAA,CAAA,MAAA,GAAA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,MAAA,KAAA,CAAA,eAAA;AACA,KAHA;;AAIA,SAAA,OAAA;AACA,SAAA,UAAA;AACA,GApDA;;AAqDA,EAAA,OAAA,EAAA;AACA,IAAA,mBAAA,GAAA,CAAA,CADA;;AAEA;AACA,IAAA,OAAA,GAAA;AACA,YAAA,KAAA,GAAA,QAAA,CAAA,aAAA,CACA,uCADA,CAAA;;AAGA,YAAA,KAAA,GAAA,IAAA;;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA;AAAA,UAAA,QAAA;AAAA,UAAA;AAAA,SAAA,EAAA;AACA,gBAAA,OAAA,GAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,QAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,QAAA,EAAA,CAAA,EAAA,OAAA;AACA;;AAJA,OAAA;AAMA,KAdA;;AAeA;AACA,IAAA,UAAA,GAAA;AACA,YAAA,SAAA,GAAA,QAAA,CAAA,aAAA,CACA,sCADA,CAAA;AAGA,WAAA,QAAA,GAAA,QAAA,CAAA,MAAA,CAAA,SAAA,EAAA;AACA,QAAA,SAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA,CAFA;AAGA,QAAA,KAAA,EAAA,GAAA,IAAA;AACA,gBAAA,OAAA,GAAA,KAAA,gBAAA,CAAA,GAAA,CAAA,QAAA,CAAA;AACA,eAAA,gBAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA;AACA,eAAA,gBAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,EAAA,CAAA,EAAA,OAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,gBAAA;AACA;AARA,OAAA,CAAA;AAUA;;AA9BA;AArDA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-table :data=\"tableData\" border class=\"table1\" ref=\"table1\">\n      <el-table-column\n        v-for=\"(item, index) in tableColumns\"\n        :key=\"index\"\n        :prop=\"dropTableColumns[index].prop\"\n        :label=\"item.label\"\n      >\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      :current-page=\"page\"\n      @current-change=\"handleCurrentChange\"\n      background\n      :total=\"total\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport Sortable from \"sortablejs\";\nexport default {\n  name: \"drag-table\",\n  data() {\n    return {\n      page: 1,\n      total: 1000,\n      tableColumns: [\n        {\n          prop: \"name\",\n          label: \"姓名\",\n        },\n        {\n          prop: \"date\",\n          label: \"日期\",\n        },\n        {\n          prop: \"address\",\n          label: \"地址\",\n        },\n      ],\n      dropTableColumns: [\n        {\n          prop: \"name\",\n          label: \"姓名\",\n        },\n        {\n          prop: \"date\",\n          label: \"日期\",\n        },\n        {\n          prop: \"address\",\n          label: \"地址\",\n        },\n      ],\n      tableData: [],\n    };\n  },\n  created() {},\n  mounted() {\n    for (let i = 0; i < 10; i++) {\n      this.tableData.push({\n        date: \"2016-05-03\",\n        name: `王小${i}`,\n        address: `上海市普陀 ${i}`,\n      });\n    }\n    document.body.ondrop = function(event) {\n      event.preventDefault();\n      event.stopPropagation();\n    };\n    this.rowDrop();\n    this.columnDrop();\n  },\n  methods: {\n    handleCurrentChange() {},\n    //行拖拽\n    rowDrop() {\n      const tbody = document.querySelector(\n        \".table1 .el-table__body-wrapper tbody\"\n      );\n      const _this = this;\n      Sortable.create(tbody, {\n        onEnd({ newIndex, oldIndex }) {\n          const currRow = _this.tableData.splice(oldIndex, 1)[0];\n          _this.tableData.splice(newIndex, 0, currRow);\n        },\n      });\n    },\n    //列拖拽\n    columnDrop() {\n      const wrapperTr = document.querySelector(\n        \".table1 .el-table__header-wrapper tr\"\n      );\n      this.sortable = Sortable.create(wrapperTr, {\n        animation: 180,\n        delay: 0,\n        onEnd: (evt) => {\n          const oldItem = this.dropTableColumns[evt.oldIndex];\n          this.dropTableColumns.splice(evt.oldIndex, 1);\n          this.dropTableColumns.splice(evt.newIndex, 0, oldItem);\n          console.log(this.dropTableColumns);\n        },\n      });\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":"src/components/c-drag-table"}]}