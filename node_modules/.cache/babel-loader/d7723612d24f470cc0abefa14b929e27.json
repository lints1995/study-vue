{"remainingRequest":"/Users/lin/Career/demo_vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/lin/Career/demo_vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/lin/Career/demo_vue/src/components/c-form/c-form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lin/Career/demo_vue/src/components/c-form/c-form.vue","mtime":1624522037789},{"path":"/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Career/demo_vue/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lin/Career/demo_vue/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lin/Career/demo_vue/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjLWZvcm0iLAoKICBwcm92aWRlKCkgewogICAgLy8g6Leo5bGC57qn5Lyg6YCS5Y+C5pWw77yM6K6p5a2Q57uE5Lu26IO96K6/6Zeu5Yiw54i257uE5Lu255qE5omA5pyJ5pWw5o2uCiAgICByZXR1cm4gewogICAgICBmb3JtOiB0aGlzCiAgICB9OwogIH0sCgogIHByb3BzOiB7CiAgICBtb2RlbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmU6IHRydWUKICAgIH0sCiAgICBydWxlczogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkYXRlKGNiKSB7CiAgICAgIC8vIOiOt+WPluaJgOacieeahOWtqeWtkAogICAgICAvLyDojrflj5bliLDmiYDmnInlrZDlhYPntKDnmoTmoKHpqoznu5PmnpwKICAgICAgY29uc3QgdGFza3MgPSB0aGlzLiRjaGlsZHJlbi5maWx0ZXIoaXRlbSA9PiBpdGVtLnByb3ApIC8v6L+H5ruk6LCD5rKh5pyJcHJvcOWxnuaAp+eahGl0ZW0KICAgICAgLm1hcChpdGVtID0+IGl0ZW0udmFsaWRhdGUoKSk7CiAgICAgIGNvbnNvbGUubG9nKHRhc2tzKTsKICAgICAgUHJvbWlzZS5hbGwodGFza3MpLnRoZW4oKCkgPT4gY2IodHJ1ZSkpLmNhdGNoKCgpID0+IGNiKGZhbHNlKSk7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["c-form.vue"],"names":[],"mappings":";;;;;;AAOA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;;AAEA,EAAA,OAAA,GAAA;AACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GAPA;;AAQA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AALA,GARA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,CAAA,EAAA,EAAA;AACA;AACA;AACA,YAAA,KAAA,GAAA,KAAA,SAAA,CACA,MADA,CACA,IAAA,IAAA,IAAA,CAAA,IADA,EACA;AADA,OAEA,GAFA,CAEA,IAAA,IAAA,IAAA,CAAA,QAAA,EAFA,CAAA;AAGA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EACA,IADA,CACA,MAAA,EAAA,CAAA,IAAA,CADA,EAEA,KAFA,CAEA,MAAA,EAAA,CAAA,KAAA,CAFA;AAGA;;AAXA;AAjBA,CAAA","sourcesContent":["<template>\n  <form class=\"e-form\">\n    <slot></slot>\n  </form>\n</template>\n\n<script>\nexport default {\n  name: \"c-form\",\n  provide() {\n    // 跨层级传递参数，让子组件能访问到父组件的所有数据\n    return {\n      form: this,\n    };\n  },\n  props: {\n    model: {\n      type: Object,\n      require: true,\n    },\n    rules: {\n      type: Object,\n    },\n  },\n  methods: {\n    validate(cb) {\n      // 获取所有的孩子\n      // 获取到所有子元素的校验结果\n      const tasks = this.$children\n        .filter((item) => item.prop) //过滤调没有prop属性的item\n        .map((item) => item.validate());\n      console.log(tasks);\n      Promise.all(tasks)\n        .then(() => cb(true))\n        .catch(() => cb(false));\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components/c-form"}]}